[gd_scene load_steps=9 format=3 uid="uid://be7oe716afy1w"]

[ext_resource type="PackedScene" uid="uid://g2ulvmaq7dfi" path="res://scenes/ui/ui_2d.tscn" id="1_mds02"]
[ext_resource type="PackedScene" uid="uid://dlfg5inwjswqp" path="res://scenes/world/env/env.tscn" id="2_8aoaw"]
[ext_resource type="PackedScene" uid="uid://c41quruc7ojx4" path="res://_dev/world/lookout.tscn" id="3_5ei2s"]
[ext_resource type="PackedScene" uid="uid://yrxnx8s4qebt" path="res://scenes/player/player.tscn" id="4_1hpcu"]
[ext_resource type="PackedScene" uid="uid://w33u5e86jw0v" path="res://_dev/world/spawner.tscn" id="5_8aoaw"]
[ext_resource type="PackedScene" uid="uid://c5x3byc85x84e" path="res://_dev/enemy/enemy_ball.tscn" id="6_5ei2s"]

[sub_resource type="NavigationMesh" id="NavigationMesh_5ei2s"]
vertices = PackedVector3Array(3.5, 0.5, -29, -0.75, 0.5, -29.5, -4, 0.5, -28.75, 0.25, 0.5, -0.5, 0.5, 0.5, 0, -3.5, 0.5, -0.5, 29.75, 0.5, 1.5, 30, 0.5, -1.25, 28, 0.5, -11.25, 21.75, 0.5, -20.75, 11.75, 0.5, -27.5, 0.5, 0.5, 1.5, -10.75, 0.5, -27.5, -11.5, 0.5, -26.75, -11.25, 0.5, -2, -10, 0.5, -0.5, -27, 0.5, -11.25, -28.5, 0.5, -2.75, -20.75, 0.5, -20.75, -10.5, 0.5, -0.25, -10.5, 0.5, 1.75, -29, 0.5, -1.25, -28.75, 0.5, 2, 28.75, 0.5, 7.25, 0.5, 0.5, 7, -27.75, 0.5, 7.25, -10.5, 0.5, 7, -26.75, 0.5, 11.25, -10.5, 0.5, 10, 0.5, 0.5, 10, 1.75, 0.5, 10.75, 28, 0.5, 11, -11.25, 0.5, 11.75, -10, 0.5, 10.5, -24.25, 0.5, 15, 0.25, 0.5, 10.5, -3.5, 0.5, 10.5, -4, 0.5, 28.75, -0.75, 0.5, 29.5, 3.5, 0.5, 29, -11.5, 0.5, 26.75, -10.75, 0.5, 27.5, 11.75, 0.5, 27.5, 21.25, 0.5, 21.25, -20.25, 0.5, 21.25)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(3, 5, 2), PackedInt32Array(6, 8, 7), PackedInt32Array(0, 10, 9), PackedInt32Array(8, 6, 9), PackedInt32Array(9, 6, 11), PackedInt32Array(9, 11, 4), PackedInt32Array(9, 4, 0), PackedInt32Array(12, 2, 13), PackedInt32Array(13, 2, 14), PackedInt32Array(14, 2, 15), PackedInt32Array(15, 2, 5), PackedInt32Array(16, 18, 17), PackedInt32Array(17, 18, 14), PackedInt32Array(14, 18, 13), PackedInt32Array(19, 14, 15), PackedInt32Array(19, 20, 14), PackedInt32Array(14, 20, 17), PackedInt32Array(17, 20, 21), PackedInt32Array(21, 20, 22), PackedInt32Array(24, 11, 23), PackedInt32Array(23, 11, 6), PackedInt32Array(26, 25, 20), PackedInt32Array(20, 25, 22), PackedInt32Array(28, 27, 26), PackedInt32Array(26, 27, 25), PackedInt32Array(29, 24, 30), PackedInt32Array(30, 24, 31), PackedInt32Array(31, 24, 23), PackedInt32Array(33, 32, 28), PackedInt32Array(28, 32, 34), PackedInt32Array(28, 34, 27), PackedInt32Array(35, 29, 30), PackedInt32Array(35, 30, 36), PackedInt32Array(36, 30, 37), PackedInt32Array(37, 30, 38), PackedInt32Array(38, 30, 39), PackedInt32Array(41, 40, 37), PackedInt32Array(37, 40, 32), PackedInt32Array(37, 32, 33), PackedInt32Array(37, 33, 36), PackedInt32Array(42, 39, 43), PackedInt32Array(43, 39, 30), PackedInt32Array(43, 30, 31), PackedInt32Array(34, 32, 44), PackedInt32Array(44, 32, 40)]
geometry_collision_mask = 4294967294

[sub_resource type="CylinderMesh" id="CylinderMesh_5ei2s"]
top_radius = 30.0
bottom_radius = 30.0
radial_segments = 16

[node name="final_destination" type="Node3D"]

[node name="ui_2d" parent="." instance=ExtResource("1_mds02")]

[node name="world" type="Node3D" parent="."]

[node name="env" parent="world" instance=ExtResource("2_8aoaw")]

[node name="player" parent="world" instance=ExtResource("4_1hpcu")]
floor_snap_length = 0.2

[node name="spawner" parent="world" node_paths=PackedStringArray("marker", "timer") instance=ExtResource("5_8aoaw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, -17.5)
prefab = ExtResource("6_5ei2s")
marker = NodePath("Marker3D")
timer = NodePath("Timer")

[node name="Marker3D" type="Marker3D" parent="world/spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, 0)

[node name="Timer" type="Timer" parent="world/spawner"]
wait_time = 5.0
autostart = true

[node name="spawner2" parent="world" node_paths=PackedStringArray("marker", "timer") instance=ExtResource("5_8aoaw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12, 4, -14)
prefab = ExtResource("6_5ei2s")
marker = NodePath("Marker3D")
timer = NodePath("Timer")

[node name="Marker3D" type="Marker3D" parent="world/spawner2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, 0)

[node name="Timer" type="Timer" parent="world/spawner2"]
wait_time = 4.0
autostart = true

[node name="spawner3" parent="world" node_paths=PackedStringArray("marker", "timer") instance=ExtResource("5_8aoaw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 6, -13)
prefab = ExtResource("6_5ei2s")
marker = NodePath("Marker3D")
timer = NodePath("Timer")

[node name="Marker3D" type="Marker3D" parent="world/spawner3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, 0)

[node name="Timer" type="Timer" parent="world/spawner3"]
wait_time = 7.0
autostart = true

[node name="lookout" parent="world" instance=ExtResource("3_5ei2s")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="world"]
navigation_mesh = SubResource("NavigationMesh_5ei2s")

[node name="MeshInstance3D" type="MeshInstance3D" parent="world/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, -1, 0)
visible = false
mesh = SubResource("CylinderMesh_5ei2s")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="world/NavigationRegion3D"]
height = 50.0
vertices = PackedVector3Array(0, 0, 0, -10, 0, 0, -10, 0, 10, 0, 0, 10)
affect_navigation_mesh = true
